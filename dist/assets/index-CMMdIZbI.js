import{b as J}from"./bread_crumb-BVsCHufp.js";import{g as A,a as K,b as O}from"./setting-COqKDi4v.js";import{c as P,s as Q}from"./message-CRz6RGfg.js";import{b}from"./mitt-CdlF-dbX.js";import{d as T,r as c,a as R,i as j,j as d,w as a,e as m,o,b as l,f as t,_ as S,t as _,c as L,k as v,g as f,F as H,l as U}from"./index-DAzvbAht.js";import"./SvgIcon-CrgHh77p.js";import"./index-Cyc5mHF5.js";const W=["innerHTML"],X=T({__name:"introduce",setup(B,{expose:x}){const i=c(),e=c();b.on("introduce",async s=>{s==1&&(i.value="公司介绍",e.value=await A("公司介绍")),s==2&&(i.value="公司架构",e.value=await A("公司架构")),s==3&&(i.value="公司战略",e.value=await A("公司战略")),s==4&&(i.value="公司高层",e.value=await A("公司高层"))});const u=R({dialogFormVisible:!1});return x({open:()=>{u.dialogFormVisible=!0}}),j(()=>{b.all.clear()}),(s,r)=>{const h=m("el-main"),y=m("el-container"),k=m("el-dialog");return o(),d(k,{modelValue:u.dialogFormVisible,"onUpdate:modelValue":r[0]||(r[0]=C=>u.dialogFormVisible=C),title:i.value,width:"800px","destroy-on-close":"",center:""},{default:a(()=>[l(y,null,{default:a(()=>[l(h,null,{default:a(()=>[t("div",{class:"content",innerHTML:e.value},null,8,W)]),_:1})]),_:1})]),_:1},8,["modelValue","title"])}}}),Y=S(X,[["__scopeId","data-v-73b799b0"]]),Z={class:"title"},ee=["innerHTML"],se={key:0,class:"pub-msg"},te={class:"pub-msg"},ae={class:"pub-msg"},le={key:1,class:"pub-msg"},ne={class:"pub-msg"},oe=T({__name:"home_message",setup(B,{expose:x}){b.on("homeCompany",s=>{i.value="公司公告",e.message_title=s.message_title,e.message_content=s.message_content,e.message_publish_department=s.message_publish_department,e.message_category=s.message_category,e.message_level=s.message_level,e.message_publish_name=s.message_publish_name,e.message_publish_time=s.message_publish_time}),b.on("homeSystem",s=>{i.value="系统消息",e.message_title=s.message_title,e.message_content=s.message_content,e.message_publish_department=s.message_publish_department,e.message_category=s.message_category,e.message_level=s.message_level,e.message_publish_name=s.message_publish_name,e.message_publish_time=s.message_publish_time});const i=c(""),e=R({message_title:"",message_content:"",message_publish_department:"",message_category:"",message_level:"",message_publish_name:"",message_publish_time:""}),u=c(!1);return x({open:()=>{u.value=!0}}),j(()=>{b.all.clear()}),(s,r)=>{const h=m("el-main"),y=m("el-tag"),k=m("el-aside"),C=m("el-container"),M=m("el-dialog");return o(),d(M,{modelValue:u.value,"onUpdate:modelValue":r[0]||(r[0]=w=>u.value=w),title:i.value,width:"40%",center:"",draggable:""},{default:a(()=>[l(C,null,{default:a(()=>[l(h,null,{default:a(()=>[t("div",Z,_(e.message_title),1),t("div",{innerHTML:e.message_content},null,8,ee)]),_:1}),l(k,{width:"200px"},{default:a(()=>{var w;return[i.value=="公司公告"?(o(),L("div",se,"发布部门："+_(e.message_publish_department),1)):v("",!0),t("div",te,"发布人："+_(e.message_publish_name),1),t("div",ae,"类别："+_(e.message_category),1),i.value=="公司公告"?(o(),L("div",le,[r[1]||(r[1]=f("等级： ")),t("template",null,[e.message_level=="一般"?(o(),d(y,{key:0,effect:"light",type:"primary",round:""},{default:a(()=>[f(_(e.message_level),1)]),_:1})):v("",!0),e.message_level=="重要"?(o(),d(y,{key:1,effect:"light",type:"warning",round:""},{default:a(()=>[f(_(e.message_level),1)]),_:1})):v("",!0),e.message_level=="紧急"?(o(),d(y,{key:2,effect:"light",type:"danger",round:""},{default:a(()=>[f(_(e.message_level),1)]),_:1})):v("",!0)])])):v("",!0),t("div",ne,[r[2]||(r[2]=f("发布时间： ")),t("template",null,[t("div",null,_((w=e.message_publish_time)==null?void 0:w.slice(0,10)),1)])])]}),_:1})]),_:1})]),_:1},8,["modelValue","title"])}}}),_e=S(oe,[["__scopeId","data-v-763e6a02"]]),me={class:"home-wrapped"},ie={class:"swipper-wrapped"},ce=["src"],ue={class:"layout-wrapped"},re={class:"company-message-area"},pe=["innerHTML"],de={class:"two-tables-wrapped"},ge={class:"company-notice"},ve={class:"title"},fe={class:"system-message"},be=T({__name:"index",setup(B){const x=c(),i=c({first:"首页"}),e=c([]),u=c([]);(async()=>{e.value=await P(localStorage.getItem("department")),u.value=await Q()})();const s=c([]);(async()=>{s.value=await K()})();const h=c();(async()=>{const g=await O(),[$,...I]=g;h.value=I})();const k=c(),C=g=>{b.emit("introduce",g),k.value.open()},M=c(),w=g=>{b.emit("homeCompany",g),M.value.open()},E=g=>{b.emit("homeSystem",g),M.value.open()};return(g,$)=>{const I=m("el-carousel-item"),q=m("el-carousel"),z=m("el-col"),G=m("el-row"),V=m("el-table-column"),F=m("el-tag"),N=m("el-table");return o(),L(H,null,[l(J,{ref_key:"breadcrumb",ref:x,item:i.value},null,8,["item"]),t("div",me,[t("div",ie,[l(q,{interval:4e3,"indicator-position":"outside",type:"card",height:"280px"},{default:a(()=>[(o(!0),L(H,null,U(s.value,(n,p)=>(o(),d(I,{key:p},{default:a(()=>[t("img",{src:n,class:"swiper"},null,8,ce)]),_:2},1024))),128))]),_:1})]),t("div",ue,[l(G,{gutter:20},{default:a(()=>[(o(!0),L(H,null,U(h.value,(n,p)=>(o(),d(z,{span:6,key:p,onClick:he=>C(p+1)},{default:a(()=>[t("div",re,[t("span",null,_(n.set_name),1),t("div",{innerHTML:n.set_text,class:"company-introduce"},null,8,pe)])]),_:2},1032,["onClick"]))),128))]),_:1})]),t("div",de,[t("div",ge,[$[0]||($[0]=t("span",null,"公司公告",-1)),l(N,{data:e.value,style:{width:"100%"},"show-header":!1,onRowDblclick:w},{default:a(()=>[l(V,{prop:"message_title",label:"公告主题"},{default:a(({row:n})=>[t("div",ve,_(n.message_title),1)]),_:1}),l(V,{prop:"message_level",label:"等级"},{default:a(({row:n})=>[n.message_level=="一般"?(o(),d(F,{key:0,effect:"dark",type:"primary",round:""},{default:a(()=>[f(_(n.message_level),1)]),_:2},1024)):v("",!0),n.message_level=="重要"?(o(),d(F,{key:1,effect:"dark",type:"warning",round:""},{default:a(()=>[f(_(n.message_level),1)]),_:2},1024)):v("",!0),n.message_level=="紧急"?(o(),d(F,{key:2,effect:"dark",type:"danger",round:""},{default:a(()=>[f(_(n.message_level),1)]),_:2},1024)):v("",!0)]),_:1}),l(V,{prop:"message_publish_department",label:"发布部门"}),l(V,{prop:"message_publish_time",label:"发布时间"},{default:a(({row:n})=>{var p;return[t("div",null,_((p=n.message_publish_time)==null?void 0:p.slice(0,10)),1)]}),_:1})]),_:1},8,["data"])]),t("div",fe,[$[1]||($[1]=t("span",null,"系统消息",-1)),l(N,{data:u.value,style:{width:"100%"},"show-header":!1,onRowDblclick:E},{default:a(()=>[l(V,{prop:"message_title",label:"公告主题"}),l(V,{prop:"message_publish_time",label:"发布时间"},{default:a(({row:n})=>{var p;return[t("div",null,_((p=n.message_publish_time)==null?void 0:p.slice(0,10)),1)]}),_:1})]),_:1},8,["data"])])])]),l(Y,{ref_key:"intro",ref:k},null,512),l(_e,{ref_key:"homemsg",ref:M},null,512)],64)}}}),$e=S(be,[["__scopeId","data-v-4375638f"]]);export{$e as default};
